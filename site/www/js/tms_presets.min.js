(function(e,t){e.extend(_TMS,{presets:{zoomer:{reverseWay:!1,duration:"1000",interval:"1",blocksX:"1",blocksY:"1",easing:"",way:"lines",anim:"zoomer",k:1.8,crds:{bottom:0,right:0}},fadeThree:{reverseWay:!1,duration:"1000",interval:"1",blocksX:"1",blocksY:"1",easing:"",way:"lines",anim:"fadeThree"},simpleFade:{reverseWay:!1,duration:"1000",interval:"1",blocksX:"1",blocksY:"1",easing:"",way:"lines",anim:"fade"},gSlider:{reverseWay:!1,duration:400,interval:40,blocksX:"1",blocksY:"1",easing:"",way:"lines",anim:"gSlider"},vSlider:{reverseWay:!1,duration:400,interval:40,blocksX:"1",blocksY:"1",easing:"",way:"lines",anim:"vSlider"},slideFromLeft:{reverseWay:!1,duration:"1000",interval:"1",blocksX:"1",blocksY:"1",easing:"easeOutBack",way:"lines",anim:"slideFromLeft"},slideFromTop:{reverseWay:!1,duration:"1000",interval:"1",blocksX:"1",blocksY:"1",easing:"easeOutBack",way:"lines",anim:"slideFromTop"},diagonalFade:{reverseWay:!1,duration:400,interval:40,blocksX:12,blocksY:6,easing:"easeInQuad",way:"diagonal",anim:"fade"},diagonalExpand:{reverseWay:!1,duration:400,interval:40,blocksX:8,blocksY:4,easing:"easeInQuad",way:"diagonal",anim:"expand"},fadeFromCenter:{reverseWay:!0,duration:"600",interval:"10",blocksX:"10",blocksY:"6",easing:"",way:"spiral",anim:"fade"},zabor:{reverseWay:!1,duration:400,interval:40,blocksX:"20",blocksY:"1",easing:"",way:"lines",anim:"slideRight"},vertivalLines:{reverseWay:!1,duration:600,interval:1,blocksX:12,blocksY:1,easing:"swing",way:"lines",anim:"vSlideOdd"},gorizontalLines:{reverseWay:!1,duration:600,interval:1,blocksX:1,blocksY:12,easing:"swing",way:"lines",anim:"gSlideOdd"}},ways:{lines:function(){var e=this;for(var t=[],n=0;n<e.maskC.length;n++)t.push(e.maskC.eq(n));return t},spiral:function(){var e=this,t=[],n=0,r=e.blocksY,i=e.blocksX,s,o,u,a=function(){for(u=n;u<i-1-n;u++){if(!(t.length<e.maskC.length))return!1;t.push(e.matrix[n][u])}f()},f=function(){for(u=n;u<r-1-n;u++){if(!(t.length<e.maskC.length))return!1;t.push(e.matrix[u][i-1-n])}l()},l=function(){for(u=n;u<i-1-n;u++){if(!(t.length<e.maskC.length))return!1;t.push(e.matrix[r-1-n][i-u-1])}c()},c=function(){for(u=n;u<r-1-n;u++){if(!(t.length<e.maskC.length))return!1;t.push(e.matrix[r-u-1][n])}a(n++)};return a(),t},vSnake:function(){var e=this,t=[],n=e.blocksY,r=e.blocksX,i,s;for(s=0;s<r;s++)for(i=0;i<n;i++)s*.5==~~(s/2)?t.push(e.matrix[i][s]):t.push(e.matrix[n-1-i][s]);return t},gSnake:function(){var e=this,t=[],n=e.blocksY,r=e.blocksX,i,s;for(s=0;s<n;s++)for(i=0;i<r;i++)s*.5==~~(s/2)?t.push(e.matrix[s][i]):t.push(e.matrix[s][r-1-i]);return t},diagonal:function(){var e=this,t=[],r=e.blocksY,i=e.blocksX,s=j=n=0;for(s=0;s<i;s++)for(t[s]=[],j=0;j<=s;j++)j<r&&t[s].push(e.matrix[j][s-j]);for(s=1;s<r;s++)for(j=0,t[n=t.length]=[];j<r-s;j++)t[n].push(e.matrix[s+j][i-1-j]);return t},chess:function(){var e=this;for(var t=0,n=[[],[]],r=0;t<e.maskC.length;t++)n[r=r?0:1].push(e.maskC.eq(t));return n},randomly:function(){var e=this;for(var t=[],n=i=0;i<e.maskC.length;i++)t.push(e.maskC.eq(i));for(i=0;i<e.maskC.length;i++)t.push(t.splice(parseInt(Math.random()*e.maskC.length-1),1)[0]);return t}},anims:{fadeThree:function(t,n){var r=this;e(t).each(function(t){var i=e(this).show().css({left:-r.width/4,top:0,zIndex:2}),s=i.clone().appendTo(i.parent()).css({left:r.width/4,top:r.height/4,zIndex:1}),o=i.clone().appendTo(i.parent()).css({left:0,top:-r.height/4,zIndex:1});s.stop().animate({left:0,top:0},{duration:r.duration,easing:r.easing}),o.stop().animate({left:0,top:0},{duration:r.duration,easing:r.easing}),i.stop().animate({left:0,top:0},{duration:r.duration,easing:r.easing,step:function(e){var t=e/r.width,n=1+t;s.css({opacity:n*n}),o.css({opacity:n*n}),i.css({opacity:n*n*n})},complete:function(){n&&r.afterShow(),s.remove(),o.remove()}})})},zoomer:function(t,n){var r=this;e(t).each(function(){var t=e(this),i=e(new Image),s=r.direction>0?r.width*r.k:r.width,o=r.direction>0?r.width:r.width*r.k;console.log(s+" "+o),i.css({position:"absolute",zIndex:0,opacity:0}).css(r.crds).appendTo(r.pic).load(function(){r.pic.find("img").not(i).remove(),i.css({width:s,height:"auto"}).stop().animate({opacity:1},{duration:200}).animate({width:o},{duration:r.duration,easing:r.easing}),setTimeout(function(){n&&r.afterShow()},400)}).attr({src:r.next})})},fade:function(t,n){var r=this;e(t).each(function(){e(this).css({opacity:0}).show().stop().animate({opacity:1},{duration:+r.duration,easing:r.easing,complete:function(){n&&r.afterShow()}})})},expand:function(t,n){var r=this;e(t).each(function(){e(this).hide().show(+r.duration,function(){n&&r.afterShow()})})},slideDown:function(t,n){var r=this;e(t).each(function(){var t=e(this).show(),i=t.height();t.css({height:0}).stop().animate({height:i},{duration:r.duration,easing:r.easing,complete:function(){n&&r.afterShow()}})})},slideLeft:function(t,n){var r=this;e(t).each(function(){var t=e(this).show(),i=t.width();t.css({width:0}).stop().animate({width:i},{duration:r.duration,easing:r.easing,complete:function(){n&&r.afterShow()}})})},slideUp:function(t,n){var r=this;e(t).each(function(){var t=e(this).show(),i=t.height(),s=t.attr("offsetLeft"),o=t.attr("offsetTop");t.css({height:0,top:o+i}).stop().animate({height:i},{duration:r.duration,easing:r.easing,step:function(e){var n=o+i-e;t.css({top:n,backgroundPosition:"-"+s+"px -"+n+"px"})},complete:function(){n&&r.afterShow()}})})},slideRight:function(t,n){var r=this;e(t).each(function(){var t=e(this).show(),i=t.width(),s=t.attr("offsetLeft"),o=t.attr("offsetTop");t.css({width:0,left:s+i}).stop().animate({width:i},{duration:r.duration,easing:r.easing,step:function(e){var n=s+i-e;t.css({left:n,backgroundPosition:"-"+n+"px -"+o+"px"})},complete:function(){n&&r.afterShow()}})})},slideFromTop:function(t,n){var r=this;e(t).each(function(){var t=e(this),i=t.show().css("top"),s=t.height();t.css({top:-s}).stop().animate({top:i},{duration:+r.duration,easing:r.easing,complete:function(){n&&r.afterShow()}})})},slideFromDown:function(t,n){var r=this;e(t).each(function(){var t=e(this),i=t.show().css("top"),s=t.height();t.css({top:s}).stop().animate({top:i},{duration:+r.duration,easing:r.easing,complete:function(){n&&r.afterShow()}})})},slideFromLeft:function(t,n){var r=this;e(t).each(function(){var t=e(this),i=t.show().css("left"),s=t.width();t.css({left:-s}).stop().animate({left:i},{duration:+r.duration,easing:r.easing,complete:function(){n&&r.afterShow()}})})},slideFromRight:function(t,n){var r=this;e(t).each(function(){var t=e(this),i=t.show().css("left"),s=t.width();t.css({left:s}).stop().animate({left:i},{duration:+r.duration,easing:r.easing,complete:function(){n&&r.afterShow()}})})},gSlider:function(e,t){var n=this,r=n.maskC.clone(),i=r.width();r.appendTo(n.maskC.parent()).css({background:n.pic.css("backgroundImage")}).show(),e.show().css({left:n.direction>0?-i:i}).stop().animate({left:0},{duration:+n.duration,easing:n.easing,step:function(e){n.direction>0?r.css("left",e+i):r.css("left",e-i)},complete:function(){r.remove(),t&&n.afterShow()}})},vSlider:function(e,t){var n=this,r=n.maskC.clone(),i=r.height();r.appendTo(n.maskC.parent()).css({background:n.pic.css("backgroundImage")}).show(),e.show().css({top:n.direction>0?-i:i}).stop().animate({top:0},{duration:+n.duration,easing:n.easing,step:function(e){n.direction>0?r.css("top",e+i):r.css("top",e-i)},complete:function(){r.remove(),t&&n.afterShow()}})},vSlideOdd:function(t,n){var r=this;e(t).each(function(){var t=e(this),i=t.show().css("top"),s=t.height(),o=r.odd;t.css({top:o?-s:s}).stop().animate({top:i},{duration:+r.duration,easing:r.easing,complete:function(){n&&r.afterShow()}}),r.odd=r.odd?!1:!0})},gSlideOdd:function(t,n){var r=this;e(t).each(function(){var t=e(this),i=t.show().css("left"),s=t.width(),o=r.odd;t.css({left:o?-s:s}).stop().animate({left:i},{duration:+r.duration,easing:r.easing,complete:function(){n&&r.afterShow()}}),r.odd=r.odd?!1:!0})}}})})(jQuery);